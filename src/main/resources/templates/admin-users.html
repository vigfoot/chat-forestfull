<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Admin - Users</title>
</head>
<body>
<h2>Users</h2>
<button id="load">Load users</button>
<pre id="users"></pre>
<script>
    document.getElementById('load').addEventListener('click', async () => {
        const token = sessionStorage.getItem('accessToken');
        const res = await fetch('/api/admin/users', {
            headers: {Authorization: token ? 'Bearer ' + token : ''}
        });
        const json = await res.json().catch(() => ({error: 'failed'}));
        document.getElementById('users').innerText = JSON.stringify(json, null, 2);
    });
</script>
</body>
</html>