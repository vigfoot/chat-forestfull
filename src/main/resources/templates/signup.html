<!doctype html>
<html>
<head><meta charset="utf-8"><title>Signup</title></head>
<body>
<h2>Signup</h2>
<form id="signupForm">
  <label>Username: <input name="username" /></label><br/>
  <label>Password: <input type="password" name="password" /></label><br/>
  <button type="submit">Sign up</button>
</form>
<pre id="result"></pre>
<script>
  document.getElementById('signupForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const body = {
      username: form.username.value,
      password: form.password.value
    };
    const res = await fetch('/api/auth/signup', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify(body)
    });
    const txt = await res.text();
    document.getElementById('result').innerText = txt;
  });
</script>
</body>
</html>