<!doctype html>
<html>
<head><meta charset="utf-8"><title>Login</title></head>
<body>
<h2>Login</h2>
<form id="loginForm">
  <label>Username: <input name="username" /></label><br/>
  <label>Password: <input type="password" name="password" /></label><br/>
  <button type="submit">Login</button>
</form>
<pre id="result"></pre>
<script>
  document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const body = {
      username: e.target.username.value,
      password: e.target.password.value
    };
    const res = await fetch('/api/auth/login', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify(body)
    });
    const json = await res.json().catch(() => ({error: 'invalid response'}));
    document.getElementById('result').innerText = JSON.stringify(json, null, 2);
    // 클라이언트 메모리에 토큰 저장하거나, 직접 복사해서 아래 secure 테스트에 붙여넣어 확인 가능
    if (json.token) {
      sessionStorage.setItem('accessToken', json.token);
    }
  });
</script>
</body>
</html>